
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Geolocalisation</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
	<style type="text/css">
		/* CSS */
    </style>
    <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>

</head>
<body>
  <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
<div class="container">
    <div class="page-header">
        <h1><a href="http://jquery2dotnet.com">HTML5 User Geolocation Using Google Map</a></h1>

        <div class="alert alert-success" id="yay">Your Browser Supports HTML5 Geolocation. Yay!</div>
        <div class="alert alert-danger" id="ooh">Oooh... Your Browser Does Not Support HTML5 Geolocation</div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <p class="intro" id="demo">HTML5 Geolocation is used to locate a user's position
                <button onclick="getLocation()" class="btn btn-success">Get Location</button>
            </p>
             <h3>Locate the User's Position</h3>

            <div class="alert alert-info" id="val"><i>Nothing...</i>

            </div>
            <div id="mapholder"></div>
             <h4>Add Script in head</h4>
 <pre>&lt;script type=&quot;text/javascript&quot; src=&quot;http://maps.google.com/maps/api/js?sensor=false&quot;&gt;&lt;/script&gt;</pre>

             <h4>Script Function</h4>
 <pre>var x = document.getElementById(&quot;demo&quot;);

function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition, showError);
        $('#yay').fadeIn('slow');
    } else {
        //x.innerHTML = &quot;Geolocation is not supported by this browser.&quot;;
        $('#ooh').fadeIn('slow');
    }
}

function showPosition(position) {
    lat = position.coords.latitude;
    lon = position.coords.longitude;
    $('#val').html(&quot;&lt;b&gt;Latitude:&lt;/b&gt; &quot; + lat + &quot;&lt;br&gt;&lt;b&gt;Longitude:&lt;/b&gt; &quot; + lon);
    latlon = new google.maps.LatLng(lat, lon)
    mapholder = document.getElementById('mapholder')
    mapholder.style.height = '250px';
    mapholder.style.width = '100%';

    var myOptions = {
        center: latlon,
        zoom: 14,
        mapTypeId: google.maps.MapTypeId.ROADMAP,
        mapTypeControl: false,
        navigationControlOptions: {
            style: google.maps.NavigationControlStyle.SMALL
        }
    };
    var map = new google.maps.Map(document.getElementById(&quot;mapholder&quot;), myOptions);
    var marker = new google.maps.Marker({
        position: latlon,
        map: map,
        title: &quot;You are here!&quot;
    });
}

function showError(error) {
    switch (error.code) {
        case error.PERMISSION_DENIED:
            x.innerHTML = &quot;User denied the request for Geolocation.&quot;
            break;
        case error.POSITION_UNAVAILABLE:
            x.innerHTML = &quot;Location information is unavailable.&quot;
            break;
        case error.TIMEOUT:
            x.innerHTML = &quot;The request to get user location timed out.&quot;
            break;
        case error.UNKNOWN_ERROR:
            x.innerHTML = &quot;An unknown error occurred.&quot;
            break;
    }
}</pre>

        </div>
    </div>
</div>

<p align="center">
Source: <a href="http://jsfiddle.net/lesson8/vWJfe/show/">http://jsfiddle.net/lesson8/vWJfe/show/</a>
</p>
</body>
</html>
